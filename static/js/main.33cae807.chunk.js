(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{118:function(e,t,a){},120:function(e,t,a){"use strict";a.r(t);var n=a(4),s=a(5),c=a(7),r=a(6),l=a(8),o=a(0),i=a.n(o),d=a(28),m=a.n(d),h=a(21),u=a(2),p=a(12),f=a.n(p),E=a(122),b=a(123),g=a(124),v=function(e){function t(e){var a;return Object(n.a)(this,t),a=Object(c.a)(this,Object(r.a)(t).call(this,e)),console.log(a.props),a.goBack=a.goBack.bind(Object(u.a)(Object(u.a)(a))),a.state={has_data:!0,cand_loading:!1,fec_loading:!1,news_loading:!1,cand_info:[],fec_info:[],news:[]},a}return Object(l.a)(t,e),Object(s.a)(t,[{key:"goBack",value:function(){this.props.history.goBack()}},{key:"componentDidMount",value:function(){console.log("Component Mounted!"),m.a.findDOMNode(this).scrollIntoView({behavior:"smooth",block:"start"}),this.getCandInfo(),this.getFecInfo(),this.scrapeNews()}},{key:"getCandInfo",value:function(){var e=this;console.log("Requesting data from /getCandidatesInfo for",this.props.name),f.a.ajax({url:"/getCandidatesInfo",type:"POST",cache:!1,dataType:"json",data:{name:this.props.name,state:this.props.state},success:function(t){console.log(t),e.setState({cand_info:t.candidate_information}),console.log(e.state.cand_info.photo)},error:function(){console.log("Error requesting from /getCandidatesInfo.")}})}},{key:"getFecInfo",value:function(){var e=this;console.log("Requesting data from /getFecInfo"),f.a.ajax({url:"/getFecInfo",type:"POST",cache:!1,dataType:"json",data:{name:this.props.name,state:this.props.state},success:function(t){console.log(t),e.setState({fec_info:t.fec_information})},error:function(){console.log("Error requesting from /getFecInfo.")}})}},{key:"scrapeNews",value:function(){var e=this,t="/"+this.props.name;console.log("Scraping the web for",this.props.name),f.a.ajax({url:t,type:"GET",cache:!1,dataType:"json",success:function(t){console.log(t),e.setState({news:t.results})},error:function(){console.log("Error in webscraping.")}})}},{key:"renderNews",value:function(){var e=this,t=this.state.news.map(function(t){return i.a.createElement("div",{key:e.state.news.indexOf(t)},i.a.createElement("li",null,i.a.createElement("a",{href:t.url,className:"list-group-item"},t.topic)))});return i.a.createElement("ul",{className:"list-group list-group-flush news"},t)}},{key:"renderFec",value:function(){var e=this.state.fec_info;return i.a.createElement("div",{className:"container-fluid fectab"},i.a.createElement("table",{className:"table table-striped"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",{scope:"col"},"Type"),i.a.createElement("th",{scope:"col"},"Amount"))),i.a.createElement("tbody",null,Object.keys(e).map(function(t,a){return i.a.createElement("tr",null,i.a.createElement("th",{scope:"row"},t),i.a.createElement("td",null,e[t]))}))))}},{key:"render",value:function(){return i.a.createElement("div",{className:"candyprofilewrapper shadow-lg mb-5 rounded",ref:this.MyRef},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-4 text-center leftcandy"},i.a.createElement("h4",null,this.state.cand_info.preferredName," ",this.state.cand_info.lastName),i.a.createElement("br",null),i.a.createElement("img",{src:this.state.cand_info.photo,className:"rounded",alt:""}),i.a.createElement("table",{className:"table table-sm text-left"},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("th",{scope:"row"},"Title"),i.a.createElement("td",{colSpan:"4"},this.state.cand_info.title)),i.a.createElement("tr",null,i.a.createElement("th",{scope:"row"},"Parties"),i.a.createElement("td",{colSpan:"4"},this.state.cand_info.parties)),i.a.createElement("tr",null,i.a.createElement("th",{scope:"row"},"Birthdate"),i.a.createElement("td",{colSpan:"4"},this.state.cand_info.birthDate)),i.a.createElement("tr",null,i.a.createElement("th",{scope:"row"},"Birthplace"),i.a.createElement("td",{colSpan:"4"},this.state.cand_info.birthPlace))))),i.a.createElement("div",{className:"col-4 text-center midcandy"},i.a.createElement("h4",null,"In the News"),i.a.createElement("br",null),this.renderNews()),i.a.createElement("div",{className:"col-4 rightcandy text-center"},this.props.action&&i.a.createElement("button",{type:"button",className:"close","aria-label":"Close",onClick:this.props.action},i.a.createElement("span",{"aria-hidden":"true"},"\xd7")),i.a.createElement("h4",null,"FEC Data"),i.a.createElement("br",null),this.renderFec())))}}]),t}(i.a.Component),y=function(e){function t(e){var a;Object(n.a)(this,t),a=Object(c.a)(this,Object(r.a)(t).call(this,e));return console.log(a.props.data),console.log(a.props.state),a.state={candidateInfo:[]},a}return Object(l.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.data.map(function(t){return i.a.createElement("div",{key:e.props.data.indexOf(t)},i.a.createElement("div",{className:"candidate"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col"},t.office),i.a.createElement("div",{className:"col"},i.a.createElement(E.a,{to:"/getCandidatesInfo/"+t.name+t.party},t.name)),i.a.createElement("div",{className:"col"},t.party)),i.a.createElement(b.a,{path:"/getCandidatesInfo/"+t.name+t.party,render:function(a){return i.a.createElement(v,Object.assign({},a,{id:t.id,name:t.name,office:t.office,state:e.props.state}))}})))});return i.a.createElement(g.a,null,i.a.createElement("div",{className:"candwrapper"},t))}}]),t}(i.a.Component),N=a(58),j=a.n(N),O=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(r.a)(t).call(this,e))).state={has_data:!1,open:!1,candidates:[],city:"",address_one:"",address_two:"",state:"",zip:"",is_loading:!1},a.handleChange=a.handleChange.bind(Object(u.a)(Object(u.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(u.a)(Object(u.a)(a))),a}return Object(l.a)(t,e),Object(s.a)(t,[{key:"submit",value:function(e){var t=this,a=this.state.address_one+" "+this.state.address_two+" "+this.state.city+" "+this.state.state+" "+this.state.zip;console.log("Address:",a),console.log("Requesting data from /getCandidatesByOffice"),this.setState({is_loading:!0}),f.a.ajax({url:"/getCandidatesByOffice",type:"POST",cache:!1,dataType:"json",data:{address:a},success:function(e){console.log(e),t.props.data.open=!t.props.data.open,t.setState({has_data:!0,candidates:e.positions_and_candidates,is_loading:!1})},error:function(){console.log("Error."),alert("Whoops something went wrong!"),this.setState({is_loading:!1})}.bind(this)})}},{key:"handleChange",value:function(e){var t=e.target.name;this.setState(Object(h.a)({},t,e.target.value)),console.log(t,":",e.target.value,this.state)}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.submit()}},{key:"render",value:function(){return i.a.createElement("div",{className:"pollyform"},i.a.createElement("div",{className:"title"},i.a.createElement("div",{className:"arrow-wrapper"},i.a.createElement("i",{className:this.props.data.open?"fa fa-angle-down fa-rotate-180":"fa fa-angle-down"})),i.a.createElement("span",{className:"title-text"},i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:"form-row"},i.a.createElement("div",{className:"col"},i.a.createElement("input",{className:"form-control",type:"text",name:"address_one",placeholder:this.props.data.address_one,onChange:this.handleChange,required:!0})),i.a.createElement("div",{className:"col"},i.a.createElement("input",{className:"form-control",type:"text",name:"address_two",placeholder:this.props.data.address_two,onChange:this.handleChange,required:!0})),i.a.createElement("div",{className:"col"},i.a.createElement("input",{className:"form-control",type:"text",name:"city",placeholder:this.props.data.city,onChange:this.handleChange,required:!0})),i.a.createElement("div",{className:"col"},i.a.createElement("input",{className:"form-control",type:"text",name:"state",placeholder:this.props.data.state,onChange:this.handleChange,required:!0})),i.a.createElement("div",{className:"col"},i.a.createElement("input",{className:"form-control",type:"text",name:"zip",placeholder:this.props.data.zip,onChange:this.handleChange,required:!0})),i.a.createElement("input",{type:"submit",value:"Submit"}))))),this.state.is_loading&&i.a.createElement("div",{className:"loadingwrapper"},i.a.createElement("div",{className:"row justify-content-center"},i.a.createElement(j.a,{color:"#356FF4",position:"absolute",margin:"10px"}))),i.a.createElement("div",{className:this.props.data.open?"content content-open":"content"},i.a.createElement("div",{className:this.props.data.open?"content-text content-text-open":"content-text"},this.state.has_data?this.renderList():"noData")))}},{key:"renderList",value:function(){return i.a.createElement("div",null,i.a.createElement(y,{data:this.state.has_data?this.state.candidates:this.state.has_data,state:this.state.state}))}}]),t}(i.a.Component),w=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(r.a)(t).call(this,e))).state={has_data:!1,open:!0,child:!1,cand_data:[],name:"",state:""},a.handler=a.handler.bind(Object(u.a)(Object(u.a)(a))),a.handleChange=a.handleChange.bind(Object(u.a)(Object(u.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(u.a)(Object(u.a)(a))),a}return Object(l.a)(t,e),Object(s.a)(t,[{key:"handler",value:function(){this.setState({open:!0,child:!1})}},{key:"handleChange",value:function(e){var t=e.target.name;this.setState(Object(h.a)({},t,e.target.value)),console.log(t,":",e.target.value,this.state)}},{key:"handleSubmit",value:function(e){alert("submit!"),e.preventDefault(),this.setState({has_data:!0,child:!0,open:!1}),console.log(this.state.name,this.state.state)}},{key:"render",value:function(){return!0===this.state.open?i.a.createElement("div",{className:"pollyform"},i.a.createElement("div",{className:"title"},i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:"form-row"},i.a.createElement("div",{className:"col"},i.a.createElement("input",{className:"form-control",type:"text",name:"name",placeholder:"Specific Candidate",onChange:this.handleChange,required:!0})),i.a.createElement("div",{className:"col"},i.a.createElement("input",{className:"form-control",type:"text",name:"state",placeholder:"State",onChange:this.handleChange,required:!0})),i.a.createElement("input",{type:"submit",value:"Submit"})))),i.a.createElement("div",{className:this.state.has_data?"content content-open":"content"},i.a.createElement("div",{className:this.state.has_data?"content-text content-text-open":"content-text"},this.state.has_data?this.renderCandidate():"noData"))):i.a.createElement("div",{className:this.state.has_data?"spcandwrapper":"content"},this.state.has_data?this.renderCandidate():"noData")}},{key:"renderCandidate",value:function(){if(!0===this.state.child)return i.a.createElement(v,{name:this.state.name,state:this.state.state,action:this.handler})}}]),t}(i.a.Component),C=function(e){function t(e){var a;return Object(n.a)(this,t),a=Object(c.a)(this,Object(r.a)(t).call(this,e)),console.log(a.props),a}return Object(l.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"container-fluid inner-gen"},i.a.createElement("div",{className:"card-deck shadow p-2"},i.a.createElement("div",{className:"card"},i.a.createElement("div",{className:"card-body"},i.a.createElement("h5",{className:"card-title"},i.a.createElement("a",{href:this.props.links.usagov,className:"general"},"Voting and Elections")),i.a.createElement("p",{className:"card-text"},"Find answers to common questions about voting in the United States."),i.a.createElement("p",{className:"card-text"},i.a.createElement("small",{className:"text-muted"},"Provided by usa.gov")))),i.a.createElement("div",{className:"card"},i.a.createElement("div",{className:"card-body"},i.a.createElement("h5",{className:"card-title"},i.a.createElement("a",{href:this.props.links.registertovote,className:"general"},"Register to Vote")),i.a.createElement("p",{className:"card-text"},"Learn if you're eligible to vote, how to register, check, or update your information. Find the deadline to register to vote in your state."))),i.a.createElement("div",{className:"card"},i.a.createElement("div",{className:"card-body"},i.a.createElement("h5",{className:"card-title"},i.a.createElement("a",{href:this.props.links.ballotpedia,className:"general"},"Ballotpedia")),i.a.createElement("p",{className:"card-text"},"Get Information on initiative supporters and opponents, financial reports, litigation news, status updates, poll numbers, and more."),i.a.createElement("p",{className:"card-text"},i.a.createElement("small",{className:"text-muted"},'The "Encyclopedia" of American Politics.')))),i.a.createElement("div",{className:"card"},i.a.createElement("div",{className:"card-body"},i.a.createElement("h5",{className:"card-title"},i.a.createElement("a",{href:this.props.links.voteeasy,className:"general"},"Vote Easy")),i.a.createElement("p",{className:"card-text"},"Wondering who to vote for this election? Check out vote easy to help you find out which candidates are most like you!"),i.a.createElement("p",{className:"card-text"},i.a.createElement("small",{className:"text-muted"},"We used their API for our project."))))))}}]),t}(i.a.Component),_=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(r.a)(t).call(this,e))).state={email:""},a.handleChange=a.handleChange.bind(Object(u.a)(Object(u.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(u.a)(Object(u.a)(a))),a}return Object(l.a)(t,e),Object(s.a)(t,[{key:"handleChange",value:function(e){var t=e.target.name;this.setState(Object(h.a)({},t,e.target.value)),console.log(t,":",e.target.value,this.state)}},{key:"handleSubmit",value:function(e){alert("submit!"),e.preventDefault(),this.submit()}},{key:"submit",value:function(e){console.log("Attempting to sign up..."),f.a.ajax({url:"/signup",type:"POST",cache:!1,dataType:"json",data:{email:this.state.email},success:function(e){console.log("success")},error:function(){console.log("Error.")}})}},{key:"render",value:function(){return i.a.createElement("div",{className:"container-fluid bottom"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"email"},i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:"form-row"},i.a.createElement("div",{className:"col"},i.a.createElement("input",{className:"form-control",type:"text",name:"email",placeholder:"Sign up with your email for notifications!",onChange:this.handleChange,required:!0})),i.a.createElement("input",{type:"submit",value:"Submit"}))))))}}]),t}(i.a.Component),k=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(r.a)(t).call(this,e))).state={visible:!1},a}return Object(l.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("nav",{className:"navbar navbar-dark bg-polly"},i.a.createElement("a",{className:"navbar-brand mb-0 h1",href:"/"}," ",this.props.title," "))}}]),t}(i.a.Component),S=(a(116),a(118),function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(k,{title:"PollyWannaVote"}),i.a.createElement(O,{data:{city:"City",address_one:"Street Address",address_two:"Apartment",state:"State",zip:"Zip Code",content:""}}),i.a.createElement(w,{title:"Specific Candidate"}),i.a.createElement(C,{links:{usagov:"https://www.usa.gov/voting",registertovote:"https://www.usa.gov/register-to-vote",ballotpedia:"https://ballotpedia.org/Main_Page",voteeasy:"https://voteeasy.votesmart.org/map"}}),i.a.createElement(_,null))}}]),t}(i.a.Component));m.a.render(i.a.createElement(S,null),document.getElementById("root"))},61:function(e,t,a){e.exports=a(120)}},[[61,2,1]]]);
//# sourceMappingURL=main.33cae807.chunk.js.map